<!-- 
 Copyright 2014 Open Connectome Project (http://openconnecto.me)

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.

 Created by Disa Mhembere
 Email: disa@jhu.edu -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
{% load static %}
{% load getScriptPrefix %}
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
    <head>
        <!--meta data-->
        <meta property="og:title" content="connectome"/>
        <meta property="og:type" content="website"/>
        <meta property="og:site_name" content="mr connectome"/>
        <!-- Style sheet and logo image -->
	<link  rel="shortcut icon" type="image/x-icon" href= "{% static 'images/favicon.ico' %}"/>
	<link rel="stylesheet" type="text/css" href="{% static 'default.css' %}"/>

  <link rel="stylesheet" href="{{ STATIC_URL }}django_tables2/themes/paleblue/css/screen.css" />

        <title>
        {% block title %}
          {# Title here!#}
        {% endblock title %}
        </title>

        {% block js %}
          <script type="text/javascript">
            // Function to add a spinner during upload and processing
            function showSpinner( show )
            {
              show = typeof show !== 'undefined' ? show : true;
              if ( show == true )
              {
                document.getElementById('loadingImage').style.visibility='visible';
              }
              else
              {
                document.getElementById('loadingImage').style.visibility='hidden';
              }
            }
          </script>

        <script type="text/javascript">
          function Validate(oForm, _validFileExtensions) {
            var arrInputs = oForm.getElementsByTagName("input");
            for (var i = 0; i < arrInputs.length; i++) {
              var oInput = arrInputs[i];
              if (oInput.type == "file") {
                var sFileName = oInput.value;
                if (sFileName.length > 0) {
                  var blnValid = false;
                  for (var j = 0; j < _validFileExtensions.length; j++) {
                    var sCurExtension = _validFileExtensions[j];
                    if (sFileName.substr(sFileName.length - sCurExtension.length, sCurExtension.length).toLowerCase() == sCurExtension.toLowerCase()) {
                      blnValid = true;
                      break;
                        }
                      }

                if (!blnValid) {
                    showSpinner(false);
                    alert("Sorry, " + sFileName.split("\\").pop() + " is invalid, allowed extensions are: " + _validFileExtensions.join(", "));
                    return false;
                  }
                }
              }
            }
            return true;
          }
        </script>

        <script type="text/javascript">
          function toggleOthers(form)
          {
            var checkboxes = new Array();
            checkboxes = form.getElementsByTagName('input');

            for (var i = 0; i < checkboxes.length; i++) {
              if (checkboxes[i].type === 'checkbox') {
                if (checkboxes[i].checked == true) {
                  checkboxes[i].checked = false;
                }
                else {
                  checkboxes[i].checked = true;
                }
              }
            }
          }
        </script>
        {% endblock js %}

      </head>
    <body>
      <a href="http://openconnecto.me" target="blank">
      <img src="{% static 'images/openconnectome_brain_logo.png' %}" border="0" alt="open connectome logo"/></a>

    <div class="container">
      <div class="navigation">
        <ul id="menu">
          <li><a href="{{"welcome"|getScriptPrefix}}">Home</a></li>
          <li><a href="{{"buildgraph"|getScriptPrefix}}">Build Graph</a>
              <ul>
                  <li><a href="http://mrbrain.cs.jhu.edu/data/projects/disa/OCPprojects/testdata/derivatives_testdata.zip">Sample Data</a></li>
                  <li><a href="{{"buildgraph"|getScriptPrefix}}#programmatic">Programmatic Build</a></li>
              </ul>
          </li>
          <li><a href="{{"graphupload"|getScriptPrefix}}">Compute Invariants</a>
              <ul>
                  <li><a href="http://mrbrain.cs.jhu.edu/data/projects/disa/OCPprojects/testdata/graphs_testdata.zip">Sample Data</a></li>
                  <li><a href="{{"graphupload"|getScriptPrefix}}#programmatic">Programmatic</a></li>
              </ul>
          </li>

        <li><a href="{{"convert"|getScriptPrefix}}">Convert Format</a>
            <ul>
                <li><a href="http://mrbrain.cs.jhu.edu/data/projects/disa/OCPprojects/testdata/convert_testdata.zip">Sample Data</a></li>
                <li><a href="{{"convert"|getScriptPrefix}}#programmatic">Programmatic</a></li>
            </ul>
        </li>

        <li><a href="">Code Examples</a>
          <ul>
            <li><a href="https://github.com/openconnectome/MR-connectome/tree/master/MROCPdjango/examples">Programmatic Examples</a></li>
            <li><a href="{{"igraph"|getScriptPrefix}}">igraph Examples</a></li>
          </ul>
        </li>

        {# <li><a href="{{"accounts/projects"|getScriptPrefix}}">Projects</a></li> #}
        <li><a href="{{"download"|getScriptPrefix}}">Downloads</a></li>
        <li><a href="{{"contact"|getScriptPrefix}}">Contact</a></li>

      </ul>
      </div>
    </div>


        <!-- Tell me who is logged in -->
        <div id="loginStatus" class="container">
          {% if user.is_authenticated %}
          <div id=li class=login> Hi, {{ user.username | capfirst }} </div>


	    <form action= {{"accounts/logout/"|getScriptPrefix}} method="post" enctype="multipart/form-data" name="logoutForm">
	      <input name = "logout"  type="submit" value="Log out" class="button" />
   	   </form>

          {% else %}

	    <input type="submit" class="button" onclick="location.href='{{"accounts/login"|getScriptPrefix}}'" value="Log in"/>

	  {% endif %}
        </div>

        <h1><b> {% block bigheading %}{% endblock bigheading %}</b></h1>
        <h2>{% block medheading %}{% endblock medheading %}</h2>


        {% block content %}
          <!-- Programmatic instructions -->
          {% block programmatic %}
          {% endblock programmatic %}
        {% endblock content%}


        {% block footer %}
          <div class="footer">
              Property of the Johns Hopkins University (HSSL) | All rights reserved &copy; {% now "YEAR_MONTH_FORMAT" %}
         </div>
        {% endblock footer %}
	{% block author %}
         {# Disa Mhembere #}
	{% endblock author%}

      </body>
</html>